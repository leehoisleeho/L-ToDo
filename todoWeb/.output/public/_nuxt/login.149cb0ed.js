import{s as c,a as k}from"./function-call.3337e31e.js";import{s as x}from"./index.0200a354.js";import{h as V,s as w}from"./index.71b9cbcb.js";import"./index.092e994c.js";import{r as _,a as I,l as S,q as o,s as p,m as l,k as B,z as m,A as f,v as g,x as N,y as R}from"./entry.846cef3d.js";import{_ as C}from"./_plugin-vue_export-helper.c27b6911.js";const L=""+new URL("login.121d00d9.png",import.meta.url).href;const h=s=>(N("data-v-b3b07684"),s=s(),R(),s),U={class:"container"},$=h(()=>l("header",null,[l("img",{src:L})],-1)),q=h(()=>l("h2",null,"登录 Login",-1)),z={class:"btnBox"},A={__name:"login",setup(s){const a=_(""),n=_(""),d=I(),y=async()=>{V.post("/login",{username:a.value,password:n.value}).then(e=>{let t=e.token;if(e&&e.error===0)try{localStorage.setItem("uuid",e.data.uuid),localStorage.setItem("token",t),c({type:"success",message:"登录成功",duration:600}),d.push("list")}catch{c({type:"success",message:"session失败",duration:600})}else c({type:"warning",message:e.msg,duration:600})})},v=()=>{d.push("register")};return(e,t)=>{const r=k,b=x,u=w;return B(),S("div",U,[$,q,o(b,{inset:""},{default:p(()=>[o(r,{modelValue:m(a),"onUpdate:modelValue":t[0]||(t[0]=i=>f(a)?a.value=i:null),"left-icon":"contact",placeholder:"请输入用户名"},null,8,["modelValue"]),o(r,{type:"password",modelValue:m(n),"onUpdate:modelValue":t[1]||(t[1]=i=>f(n)?n.value=i:null),"left-icon":"apps-o",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),l("div",z,[o(u,{type:"primary",block:"",onClick:y},{default:p(()=>[g("登录")]),_:1}),o(u,{type:"primary",block:"",onClick:v,style:{"margin-top":"20px"},plain:"",hairline:""},{default:p(()=>[g("注册")]),_:1})])])}}},H=C(A,[["__scopeId","data-v-b3b07684"]]);export{H as default};
